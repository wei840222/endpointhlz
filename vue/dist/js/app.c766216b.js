(function(e){function t(t){for(var r,a,l=t[0],s=t[1],u=t[2],d=0,p=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=(n("d3b7"),n("bc3a")),o=n.n(i);o.a.defaults.baseURL=Object({NODE_ENV:"production",BASE_URL:"/"}).baseURL||Object({NODE_ENV:"production",BASE_URL:"/"}).apiUrl||"http://localhost:8080";var a={},l=o.a.create(a);l.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e){e.axios=l,window.axios=l,Object.defineProperties(e.prototype,{axios:{get:function(){return l}},$axios:{get:function(){return l}}})},r["default"].use(Plugin);Plugin;var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{attrs:{id:"app"}},[n("el-header",[n("el-dropdown",[n("span",{staticClass:"el-dropdown-link"},[e._v("選單"),n("i",{staticClass:"el-icon-setting el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("el-button",{attrs:{type:"text"},on:{click:e.handleCreate}},[e._v("新增")])],1)],1)],1)],1),n("el-main",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.endpoint,stripe:""}},[n("el-table-column",{attrs:{prop:"name",label:"名稱",width:"180",sortable:""}}),n("el-table-column",{attrs:{label:"網址",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary",href:t.row.url,target:"_blank"}},[e._v(e._s(t.row.url))])]}}])}),n("el-table-column",{attrs:{label:"狀態碼",width:"180",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{size:"medium",type:e.getTagType(t.row.status)}},[e._v(e._s(-1===t.row.status?"unknow":t.row.status))])]}}])}),n("el-table-column",{attrs:{label:"更新時間"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-time"}),n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(new Date(1e3*t.row.updated_at)))])]}}])}),n("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("編輯")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("刪除")])]}}])})],1)],1),n("el-dialog",{attrs:{title:"新增",visible:e.createDialogForm.visible,width:"50%"},on:{"update:visible":function(t){return e.$set(e.createDialogForm,"visible",t)}}},[n("el-form",{attrs:{model:e.createDialogForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"名稱"}},[n("el-input",{model:{value:e.createDialogForm.name,callback:function(t){e.$set(e.createDialogForm,"name",t)},expression:"createDialogForm.name"}})],1),n("el-form-item",{attrs:{label:"網址"}},[n("el-input",{model:{value:e.createDialogForm.url,callback:function(t){e.$set(e.createDialogForm,"url",t)},expression:"createDialogForm.url"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.createDialogForm.visible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleCreateConfirm}},[e._v("確定")])],1)],1),n("el-dialog",{attrs:{title:"編輯",visible:e.editDialogForm.visible,width:"50%"},on:{"update:visible":function(t){return e.$set(e.editDialogForm,"visible",t)}}},[n("el-form",{attrs:{model:e.editDialogForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"名稱"}},[n("el-input",{model:{value:e.editDialogForm.name,callback:function(t){e.$set(e.editDialogForm,"name",t)},expression:"editDialogForm.name"}})],1),n("el-form-item",{attrs:{label:"網址"}},[n("el-input",{model:{value:e.editDialogForm.url,callback:function(t){e.$set(e.editDialogForm,"url",t)},expression:"editDialogForm.url"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.editDialogForm.visible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleEditConfirm}},[e._v("確定")])],1)],1)],1)},u=[],c=(n("b0c0"),n("96cf"),n("1da1")),d={name:"app",data:function(){return{loading:!0,createDialogForm:{visible:!1,name:"",url:""},editDialogForm:{visible:!1,id:0,name:"",url:""},endpoint:[]}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.loadEndpoint();case 3:this.loading=!1,setInterval(this.loadEndpoint,5e3);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{loadEndpoint:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.get("/api/endpoint");case 2:t=e.sent,this.endpoint=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTagType:function(e){return-1===e?"warning":e<=299?"success":"danger"},handleCreate:function(){this.createDialogForm.name="",this.createDialogForm.url="",this.createDialogForm.visible=!0},handleCreateConfirm:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.post("/api/endpoint",this.createDialogForm);case 2:return this.createDialogForm.visible=!1,e.next=5,this.loadEndpoint();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleEdit:function(e){this.editDialogForm.id=e.id,this.editDialogForm.name=e.name,this.editDialogForm.url=e.url,this.editDialogForm.visible=!0},handleEditConfirm:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.put("/api/endpoint/".concat(this.editDialogForm.id),this.editDialogForm);case 2:return this.editDialogForm.visible=!1,e.next=5,this.loadEndpoint();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleDelete:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.delete("/api/endpoint/".concat(t.id));case 2:return e.next=4,this.loadEndpoint();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},p=d,f=(n("cf25"),n("2877")),m=Object(f["a"])(p,s,u,!1,null,null,null),g=m.exports,h=n("5c96"),b=n.n(h),v=n("c87b"),w=n.n(v);n("0fae");r["default"].use(b.a,{locale:w.a}),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(g)}}).$mount("#app")},cf25:function(e,t,n){"use strict";var r=n("fea6"),i=n.n(r);i.a},fea6:function(e,t,n){}});
//# sourceMappingURL=app.c766216b.js.map